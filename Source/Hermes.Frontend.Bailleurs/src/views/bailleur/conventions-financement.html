<template>
    <require from="./accueil.css"></require>

    <compose view-model="./header" containerless></compose>

    <div class="container-fluid">
        <div class="row-fluid">
            <div class="card">
                <div class="card-header">
                    Filtre convention
                </div>
                <div class="card-body">
                    <p class="card-text">
                        <div class="form-row">
                            <div class="form-group col-md-3">
                                <label for="dateDebut">Date entre : </label>
                                <input type="text" class="form-control" placeholder="10/03/2018" value.bind="dateDebut">
                            </div>
                            <div class="form-group col-md-3">
                                <label for="dateFin">Et entre : </label>
                                <input type="text" class="form-control" placeholder="10/03/2019" value.bind="DateFin">
                            </div>
                            <div class="form-group col-md-3">
                                <label for="codeConvention">Code Convention</label>
                                <input type="text" class="form-control" placeholder="Code Convention" value.bind="codeConvention">
                            </div>
                            <div class="form-group col-md-3">
                                <label for="filtreGeo">Filtre géolocalisation</label>
                                <input type="text" class="form-control" placeholder="Code postal" value.bind="filtreGeo">
                            </div>
                        </div>
                    </p>
                    <div class="row justify-content-between">
                        <div class="col-auto mr-auto"></div>
                        <div class="col-auto"><a href="#" class="btn btn-primary text-right" click.delegate="search()">Editer mes résultats</a></div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    Suivi Conventions
                </div>
                <div class="card-body">
                    <table class="table table-sm table-hover table-striped" aurelia-table="data.bind: resultats; display-data.bind: $displayData;
            current-page.bind: currentPage; page-size.bind: pageSize; total-items.bind: totalItems;">
                          <thead class="thead-dark">
                              <tr>
                                  <th>Matricule</th>
                                  <th>Date debut</th>
                                  <th>Date Fin</th>
                                  <th>Objectif</th>
                                  <th>Tendance</th>
                                  <th>Nbr Logement</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr repeat.for="item of $displayData" click.trigger="navigateToDetail($index)">
                                  <td>${item.matricule}</td>
                                  <td>${item.dateDebut}</td>
                                  <td>${item.dateFin}</td>
                                  <td>${item.objectif}</td>
                                  <td>${item.tendance}</td>
                                  <td>${item.nbrLogement}</td>
                              </tr>
                          </tbody>
                      </table>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="card">
                <div class="card-header">
                    Dernière conventions signées
                </div>
                <div class="card-body">
                    <table class="table table-sm table-hover table-striped" aurelia-table="data.bind: resultats; display-data.bind: $displayData;
            current-page.bind: currentPage; page-size.bind: pageSize; total-items.bind: totalItems;">
                          <thead class="thead-dark">
                              <tr>
                                  <th>Matricule</th>
                                  <th>Date debut</th>
                                  <th>Date Fin</th>
                                  <th>Objectif</th>
                                  <th>Tendance</th>
                                  <th>Nbr Logement</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr repeat.for="item of $displayData" click.trigger="navigateToDetail($index)">
                                  <td>${item.matricule}</td>
                                  <td>${item.dateDebut}</td>
                                  <td>${item.dateFin}</td>
                                  <td>${item.objectif}</td>
                                  <td>${item.tendance}</td>
                                  <td>${item.nbrLogement}</td>
                              </tr>
                          </tbody>
                      </table>
                </div>
            </div>
        </div>
    </div>
</template>